<h2 mat-dialog-title>Add Customer</h2>
<div mat-dialog-content>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Phone Number</mat-label>
      <input matInput formControlName="phoneNumber" maxlength="10" />
      @if (form.controls.phoneNumber.hasError('required')) {<mat-error>Phone required</mat-error>}
      @if (form.controls.phoneNumber.hasError('pattern')) {<mat-error>Enter 10 digit phone</mat-error>}
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" />
      @if (form.controls.firstName.hasError('required') && form.controls.firstName.enabled) {<mat-error>First name required</mat-error>}
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100 mb-3">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" />
      @if (form.controls.lastName.hasError('required') && form.controls.lastName.enabled) {<mat-error>Last name required</mat-error>}
    </mat-form-field>

    @if (searching()) {
      <div class="small text-muted mb-2">Searching...</div>
    }

    <div mat-dialog-actions class="d-flex justify-content-end gap-2 mt-3">
      <button mat-stroked-button type="button" (click)="cancel()">Cancel</button>
      <button mat-flat-button color="primary" type="submit" [disabled]="form.invalid">Submit</button>
    </div>
  </form>
</div>
