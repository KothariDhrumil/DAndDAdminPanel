<h2 mat-dialog-title>{{ data.mode === 'update' ? 'Update Todo' : 'Create Todo' }}</h2>
<div mat-dialog-content>
  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="row">
      <div class="col-md-12">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description" rows="3"></textarea>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Due Date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dueDate">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Priority</mat-label>
          <mat-select formControlName="priority">
            <mat-option [value]="0">Normal</mat-option>
            <mat-option [value]="1">Low</mat-option>
            <mat-option [value]="2">Medium</mat-option>
            <mat-option [value]="3">High</mat-option>
            <mat-option [value]="4">Top</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-md-12">
        <mat-form-field class="w-100" appearance="outline">
          <mat-label>Add label</mat-label>
          <input matInput [formControl]="labelsInput" (keyup.enter)="addLabel()" placeholder="Press Enter to add">
        </mat-form-field>
        <div class="d-flex flex-wrap gap-2">
          <mat-chip-set>
            <mat-chip *ngFor="let label of form.controls.labels.value" (removed)="removeLabel(label)">
              {{ label }}
              <button matChipRemove>
                <mat-icon>cancel</mat-icon>
              </button>
            </mat-chip>
          </mat-chip-set>
        </div>
      </div>
    </div>
  </form>
</div>
<div mat-dialog-actions align="end">
  <button mat-stroked-button (click)="close()">Cancel</button>
  <button mat-flat-button color="primary" [disabled]="form.invalid" (click)="save()">Save</button>
</div>
